#include <stdio.h>
#include <stdbool.h>
#include <wchar.h>
#include <fcntl.h>



void move(char moveInput, int currentCord[], int newCords[]) {
    newCords[0] = currentCord[0];
    newCords[1] = currentCord[1];

    switch(moveInput){
        case 'a':
            newCords[0] -= 1;
            break;
        case 'w':
            newCords[1] -= 1;
            break;
        case 's':
            newCords[1] += 1;
            break;
        case 'd':
            newCords[0] += 1;
            break;
    }
}





void whereUser(int SIZEX, int SIZEY, char GAMEBOARD[SIZEX][SIZEY], int userCord[2]){
    GAMEBOARD[userCord[0]][userCord[1]] = '<';
}

void whereItem(){};

void whereWall(int SIZEX, int SIZEY, char GAMEBOARD[SIZEX][SIZEY]){
    //just some sample walls add here later garrett
    GAMEBOARD[0][0] = '-';
    GAMEBOARD[0][1] = '-';
    GAMEBOARD[0][2] = '-';
    GAMEBOARD[0][3] = '-';
    GAMEBOARD[0][4] = '-';
    GAMEBOARD[0][5] = '-';
}



void displayBoard(int SIZEX, int SIZEY, char GAMEBOARD[SIZEX][SIZEY]){
for(int i = 0; i<SIZEX; i++){
for(int j = 0; j<SIZEY; j++){
printf("%2c", GAMEBOARD[i][j]);}
printf("\n");
}}


//displays everything in the terminal once it runs through all the functions
void displayALL(int SIZEX, int SIZEY, char GAMEBOARD[SIZEX][SIZEY], int userCord[2]){
    whereUser(SIZEX, SIZEY,GAMEBOARD, userCord);
    whereItem();
    whereWall(SIZEX, SIZEY, GAMEBOARD);
    displayBoard(SIZEX, SIZEY,GAMEBOARD);
}



void gameReact(){
    //implement ghosts reacting 
    //check where user is and if item has been picked up

}


int main(){
const int SIZEX = 19;// Size of Gameboard X 
const int SIZEY = 21;//Size of Gameboard Y
int userDir = 0; // used to update DISPLAYUSER.
const char DISPLAYUSER[4] = {'>', '<', '^', 'v'}; //displays what direction the user is facing
char GAMEBOARD[19][21];
int userCord[2] = {10, 13}; //current space of the user
bool run = true; //if this is false the game stops
char userInput; // actual user input
int newCord[2]; //returns new cord from move function
//malloc(GAMEBOARD);
while(run){
    displayALL(SIZEX, SIZEY,GAMEBOARD, userCord);
    scanf(" %c", &userInput);
    if( userInput == '0'){
        run = false;
    }
    move(userInput, userCord, newCord);
    gameReact();
}


}
